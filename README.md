# w11arm_addDrivers - a utility to "remaster" Windows 11 ARM ISO with VMware network drivers

## What is w11arm_addDrivers?

w11arm_addDrivers is a utility that "remasters" a Windows 11 ARM installation ISO.

Windows 11 ARM ISOs created by tools other than VMware Fusion's "Get Windows from Microsoft" or vmw_esd2iso lack the VMware vmxnet3 network drivers. 
This prevents the Windows out-of-box experience (OOBE) from configuring a network, causing the installation to stall.

Typically, manual intervention through a command prompt is required to proceed beyond this stage.
However, w11arm_addDrivers addresses this issue by creating a new Windows 11 ARM ISO as a copy of the original 
and adding the VMware vmxnet3 virtual network drivers that Microsoft does not provide.
This newly created ISO enables the Windows OOBE to detect and configure a network, facilitating a more seamless installation process.  

As an additional benefit, the ISO generated by w11arm_addDrivers will be configured to eliminate the inconvenient Microsoft "feature" 
of "Press any key to boot from CD or DVD...".
The ISO will boot directly into the Windows setup without any further intervention.

## Prerequisites 

* Apple Silicon Macs running macOS 13 or later.
* VMware Fusion 13.5 or later must be installed and located at /Applications/VMware Fusion.app.

## Usage

```
w11arm_addDrivers [-hV] path-to-Windows11-ISO-file

Options:
	-V			Print version of utility and exit
	-h			Print usage (help) information and exit
```

## Installation

* Download this project from GitHub: https://github.com/Technogeezer50/w11arm_addDrivers. The latest released version
can be found in the "Releases" section on the right hand side of the project page. You can download either
the .zip or .tar.gz format file.
* Extract the downloaded file.
* Move or copy the file w11arm_addDrivers to a location of your choice (preferably an empty folder where you will build your ISO)
* Open the macOS Terminal app, and cd to the empty folder.
* Change permissions on w11arm_addDrivers to make it executable (it does not require root permissions).
* Run w11arm_addDrivers.

## Notes

### Disk space rqquirements

w11arm_addDriver creates the new ISO and a temporary imaging folder in the current working directory.

* The temporary imaging folder needs approimately 6 GB of disk space to extract the source ISO's contents. This folder will be deleted
after the re-mastered ISO is created.
* The re-mastered ISO will consume approximately 5 GB of disk space.

w11arm_addDriver will check for at least 12 GB of free space in the file system containing the current working directory. It will
exit before doing anythning if it estimates it will run out og space during the re-mastering process.

It will check for at least 12 GB of available disk space in the current working directory before doing anything

### Who should use this?

Most users wanting to install a Windows 11 ARM VM in VMware Fusion should use Fusion's built-in tools to download the installation ISO. 
Fusion's built-in tools download the latest stable chaneel installation ESD from
Microsoft, add the VMware network driver, and create the ISO.

w11arm_addDrivers is primarily designed for users that have Windows 11 ARM ISOs from other sources such as:

- uupdump.net (Windows Insider Dev, Beta, Canary or Release Preview channels)
- CrystalFetch
- Parallels Desktop
- Any future "consumer" Windows 11 ARM ISO that Microsoft may make available from its websites.

These ISO typically do not contain the VMware vmxnet3 network driver needed for VMware Fusion VMs.

> [!CAUTION]
> w11arm_addDrivers is not needed and should not be used on Windows 11 x64 (Intel/AMD 64-bit) ISOs. These ISOs already contain
> the appropriate drivers for VMware hypervisor products that run on Intel/AMD CPUs and operating systems.

## Found a bug?

Please report any bugs as an issue in w11arm_addDriver's repository on GitHub.

> [!NOTE]
> Requests for assistance on how to use w11arm_addDrivers are not considered bugs.
> But if the documentation is unclear, please report that as a bug. 

## Licensing

w11arm_addDrivers is Copyright (C) 2024 Paul Rockwell.

You may freely use and modify this utility for use in your own projects. If you do modify w11arm_addDrivers, please provide attribution,
and offer it with the same freedom to use as I've offered it you.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  

